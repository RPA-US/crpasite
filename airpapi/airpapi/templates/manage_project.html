{% extends "base_generic.html" %}
{% load i18n %}

{% block content %}
    <div class="container-fluid ml-4">
        <form method="post" class="form-horizontal pb-5" id="projectform">
            {% csrf_token %}
            {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                        <div class="alert alert-danger">
                            <strong>{{ error|escape }}</strong>
                        </div>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endif %}

            <div class="form-group">
                <label for="id_web_tx_name" class="control-label"><b>{% trans 'Nombre del proyecto' %}</b></label>
                <div class="">
                    {{ form.web_tx_name }}
                </div>
            </div>
            <div class="form-group">
                <label for="id_web_tx_description"
                       class="control-label"><b>{% trans 'Descripción del proyecto' %}</b></label>
                <div class="">
                    {{ form.web_tx_description }}
                </div>
            </div>
            <div class="form-group">
                <div class="">
                    {{ form.web_cd_user.as_hidden }}
                </div>
            </div>
            <div class="form-group">
                <label for="id_web_cl_colour" class="control-label"><b>{% trans 'Color asociado' %}</b></label>
                <div class="">
                    {{ form.web_cl_colour }}
                </div>
            </div>
            <div class="form-group">
                <input type="submit" value="{% trans 'Guardar' %}" class="btn btn-outline-primary float-left mr-2"/>
                {% if id_project != 0 %}
                    <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#exampleModal">
                        {% trans 'Eliminar proyecto' %}
                    </button>
                {% endif %}
            </div>
        </form>
    </div>

    <!-- Modal de eliminar proyecto -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header bg-light">
                    <h5 class="modal-title font-weight-bold" id="exampleModalLabel">{% trans 'Eliminar proyecto' %}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body bg-light">
                    <p class="font-weight-bold">{% trans '¿Seguro que desea eliminar el proyecto?' %}</p>
                    <p class="font-weight-bold">{% trans 'Si elimina el proyecto se eliminarán todas las entrevistas, recomendaciones y modelos asociados a este proyecto.' %}</p>
                </div>
                <div class="modal-footer bg-light">
                    <button type="button" class="btn btn-outline-dark" data-dismiss="modal">{% trans 'Cancelar' %}</button>
                    <a href="{% url 'delete_project' id_project %}"
                       class="btn btn-outline-danger float-right">{% trans 'Eliminar proyecto' %}</a>
                </div>
            </div>
        </div>
    </div>

{% endblock %}